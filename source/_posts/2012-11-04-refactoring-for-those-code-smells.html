---
layout: post
title: "Refactoring for those code smells "
date: 2012-11-04
comments: false
---

<div class='post'>
Refactoring is a really important step of Test Driven Development. It is the fine line between a working piece of code and production quality code.<br /><br />There are many ways to refactor, however I refer to a list of steps I check for before I dig into the code deeper.&nbsp;To make it more helpful, I am adding the list of shortcuts for carrying out these steps in IntelliJ Idea:<br /><ol><li>Run all tests and make sure they are passing.</li><li>If there are no tests, please write tests before moving ahead.</li><li>Check if a method is very long and break it down to more sensible &amp; readable methods. Remember the 2nd most important rule of a good design is that 'all intentions should be revealed'. [<b>Option + Command+ M]&nbsp;</b></li><li>Run all tests to make sure they are passing - Check it after every step here after. Go to the test class and use shortcut <b>[Shift + Control +F10]</b></li><li>After the method is broken down, check for duplication of code if any.&nbsp;</li><li>Extract the repeated variables into a parameter of the method. <b>[Option + command+ P]</b></li><li>Find patterns to remove magic numbers in the code. You can extract them as variables using &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<b>[Command + Option + V]</b></li><li>If the methods are using similar logic, extract them to inline methods by using the shortcut <b>[Opt + Cmd + N]&nbsp;</b></li><li>We can organize the methods such that the private methods will appear before the public methods. <b>[Cursor in the method + Command + Shift + Arrow Up/Down]</b></li></ol><div>Once all these are checked for, dig deeper into the logic of the code. Pointers to what can be checked:&nbsp;</div><div><br /></div><div>1. Feature Envy - When a method(s) in one class uses most of the information from other class. This means that the function would rather be delegated to the other class. Use option 3 to extract the method. However if the method does not logically fit into the other class as well, then extract it to a new class.&nbsp;</div><div><br /></div><div>2. To remove code duplication, check if it can be fixed by using enumerations or creating new classes that will abstract the logic more appropriately.<br /><br /></div><br /></div>
